<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Konix Markit — Notifications</title>
    <style>
        :root{--accent:#58b710;--muted:#6b7280;--bg:#f5f7fb}
        body{font-family:Segoe UI,Roboto,Arial,Helvetica,sans-serif;margin:0;background:var(--bg);color:#111}
        a {
            text-decoration: none;
            color: inherit;
        }
        header{background:#fff;padding:.8rem 1rem;box-shadow:0 6px 18px rgba(2,6,23,0.06);position:sticky;top:0;z-index:40}
        .container{max-width:1100px;margin:1rem auto;padding:0 1rem}
        .brand{
            display:flex;
            align-items:center;
            font-size: 20px;
            font-weight: 600;
            gap:.6rem;
        }
        .brand:hover {
            color: purple;
        }
        .brand img{height:34px}
        h1{font-size:1.35rem;margin:0}
        .muted{color:var(--muted)}

        .panel{background:#fff;border-radius:10px;padding:1rem;margin-top:1rem;box-shadow:0 6px 18px rgba(2,6,23,0.04)}
        .toolbar{display:flex;justify-content:space-between;align-items:center;gap:1rem;flex-wrap:wrap}
        .toolbar .actions{display:flex;gap:.5rem}
        .btn{background:var(--accent);color:#fff;padding:.5rem .8rem;border-radius:8px;border:none;cursor:pointer}
        .btn.ghost{background:transparent;border:1px solid #e6eef6;color:var(--muted)}

        .list{margin-top:1rem}
        .item{display:flex;gap:.8rem;padding:.85rem;border-radius:8px;align-items:flex-start;border:1px solid transparent}
        .item.unread{background:#fefcf5;border-color:rgba(88,183,16,0.06)}
        .icon{width:44px;height:44px;border-radius:8px;background:#fff;border:1px solid #eef3f7;display:flex;align-items:center;justify-content:center;color:var(--accent);font-weight:700}
        .content{flex:1}
        .content h4{margin:0;font-size:1rem}
        .content p{margin:.35rem 0;color:var(--muted);font-size:.95rem}
        .meta{display:flex;gap:.6rem;align-items:center;margin-top:.35rem}
        .meta .time{color:#9aa4b2;font-size:.85rem}
        .meta .controls{margin-left:auto;display:flex;gap:.4rem}
        .control-btn{background:transparent;border:none;color:var(--muted);cursor:pointer;padding:.35rem;border-radius:6px}
        .control-btn:hover{background:#f3f6fb}

        .empty{padding:2rem;text-align:center;color:var(--muted)}

        @media (max-width:720px){
            .meta{flex-direction:column;align-items:flex-start}
            .meta .controls{margin-left:0}
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <a class="brand" href="index.html"><img src="/img/konix logo.png" alt="Konix">Konix</a>
        </div>
    </header>

    <main class="container">
        <section class="panel">
            <div class="toolbar">
                <div>
                    <h1>Notifications <small id="count" class="muted"></small></h1>
                    <div class="muted">Recent alerts and messages</div>
                </div>
                <div class="actions">
                    <button id="markAll" class="btn">Mark all read</button>
                    <button id="clearAll" class="btn ghost">Clear all</button>
                </div>
            </div>

            <div id="list" class="list"></div>
        </section>
    </main>

    <script>
        // Notifications page: stores notifications in localStorage under 'konix_notifications'
        function getNotes(){ try{ return JSON.parse(localStorage.getItem('konix_notifications')||'[]') }catch(e){return[]} }
        function setNotes(n){ localStorage.setItem('konix_notifications', JSON.stringify(n)); updateCount(); render(); }

        function updateCount(){
            const notes = getNotes();
            const unread = notes.filter(n=>!n.read).length;
            document.getElementById('count').textContent = unread ? `(${unread} unread)` : '(no unread)';
            // keep konix_sms in sync for header badge
            localStorage.setItem('konix_sms', String(unread));
        }

        function timeAgo(ts){
            const s = Math.floor((Date.now()-ts)/1000);
            if(s<60) return s+'s';
            const m = Math.floor(s/60); if(m<60) return m+'m';
            const h = Math.floor(m/60); if(h<24) return h+'h';
            const d = Math.floor(h/24); return d+'d';
        }

        function render(){
            const listEl = document.getElementById('list');
            const notes = getNotes();
            listEl.innerHTML = '';
            if(!notes.length){ listEl.innerHTML = '<div class="empty">No notifications yet.</div>'; return; }
            notes.slice().reverse().forEach(note=>{
                const el = document.createElement('div'); el.className = 'item'+(note.read? '':' unread');
                el.innerHTML = `<div class="icon">${(note.title||'N').charAt(0)}</div>
                    <div class="content">
                        <h4>${note.title}</h4>
                        <p>${note.message}</p>
                        <div class="meta"><span class="time">${timeAgo(note.time)} ago</span><div class="controls">
                            <button class="control-btn" data-id="${note.id}" data-action="toggle">${note.read? 'Mark unread':'Mark read'}</button>
                            <button class="control-btn" data-id="${note.id}" data-action="remove">Remove</button>
                        </div></div>
                    </div>`;
                listEl.appendChild(el);
            });

            // wire control buttons
            listEl.querySelectorAll('[data-action]').forEach(btn=>{
                btn.addEventListener('click', e=>{
                    const id = e.currentTarget.dataset.id; const action = e.currentTarget.dataset.action;
                    if(action==='toggle') toggleRead(id); else if(action==='remove') removeNote(id);
                });
            });
        }

        function toggleRead(id){ const notes = getNotes(); const i = notes.findIndex(n=>String(n.id)===String(id)); if(i===-1) return; notes[i].read = !notes[i].read; setNotes(notes); }
        function removeNote(id){ const notes = getNotes().filter(n=>String(n.id)!==String(id)); setNotes(notes); }
        function clearAll(){ if(!confirm('Clear all notifications?')) return; setNotes([]); }
        function markAllRead(){ const notes = getNotes().map(n=>Object.assign({},n,{read:true})); setNotes(notes); }

        document.getElementById('clearAll').addEventListener('click', clearAll);
        document.getElementById('markAll').addEventListener('click', markAllRead);

        // seed demo notifications if none exist but konix_sms indicates some
        (function seedIfNeeded(){
            const notes = getNotes();
            const smsCount = Number(localStorage.getItem('konix_sms') || 0);
            if(notes.length===0 && smsCount>0){
                const demo = [];
                for(let i=1;i<=Math.min(5,smsCount);i++) demo.push({id:'n-'+i,title:'Order update #'+(1000+i),message:'Your order has been dispatched.',time:Date.now()-i*3600*1000,read:false});
                localStorage.setItem('konix_notifications', JSON.stringify(demo));
            }
            updateCount(); render();
        })();
    </script>

        <style>
            /* footer styles */
            .site-footer { background: #0b1220; color: #cbd5e1; padding: 3rem 0 1.5rem; margin-top: 2rem; font-size: 0.95rem; }
            .site-footer .footer-inner { max-width: 1200px; margin: 0 auto; padding: 0 1rem; display: grid; grid-template-columns: repeat(4,1fr); gap: 1.5rem; align-items: start; }
            .site-footer h4 { color: #fff; margin-bottom: 0.6rem; font-size: 1rem; }
            .site-footer p, .site-footer li { color: #cbd5e1; line-height: 1.5; }
            .site-footer .footer-links { list-style: none; padding: 0; margin: 0; }
            .site-footer .footer-links li { margin-bottom: 0.45rem; }
            .newsletter-form { display: flex; gap: 0.5rem; margin-top: 0.6rem; }
            .newsletter-form input { flex: 1 1 auto; padding: 0.5rem 0.6rem; border-radius: 6px; border: 1px solid rgba(255,255,255,0.08); background: rgba(255,255,255,0.02); color: #fff; outline: none; }
            .newsletter-form input::placeholder { color: #9aa4b2; }
            .newsletter-form button { padding: 0.5rem 0.8rem; border-radius: 6px; background: #1f6feb; color: #fff; border: none; cursor: pointer; }
            .site-footer .footer-bottom { border-top: 1px solid rgba(63, 62, 62, 0.05); margin-top: 1.25rem; padding-top: 1rem; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 0.75rem; background: #666; }
            .site-footer .payments { display: flex; gap: 0.5rem; align-items: center; }
            .site-footer .socials { display: flex; gap: 0.5rem; align-items: center; }
            .site-footer .socials img { height: 22px; width: auto; display: inline-block; margin-left: 0.5rem; opacity: 0.9; transition: transform .12s ease, opacity .12s ease; }
            .site-footer .socials img:hover { opacity: 1; transform: translateY(-2px) scale(1.06); }
            @media (max-width: 800px) { .site-footer .footer-inner { grid-template-columns: repeat(2,1fr); } }
            @media (max-width: 480px) { .site-footer .footer-inner { grid-template-columns: 1fr; text-align: left; } .site-footer .footer-bottom { flex-direction: column; text-align: center; } }
        </style>

        <!-- canonical footer -->
        <footer class="site-footer">
            <div class="footer-inner">
                <div class="footer-col">
                    <a class="brand" href="index.html"><img src="/img/konix logo.png" alt="Konix" style="height:36px;">Konix</a><br>
                    <p><strong>Konix Markit</strong><br>Quality products, fair prices, fast local delivery across Ghana.</p><br>
                    <div class="newsletter">
                        <h4 style="margin-top:0.6rem">Subscribe</h4>
                        <form id="newsletterForm" class="newsletter-form" action="#" novalidate>
                            <input id="newsletterEmail" type="email" placeholder="Your email address" aria-label="Email" required>
                            <button type="submit">Subscribe</button>
                        </form>
                        <small id="newsletterMsg" style="display:none;color:#9aa4b2;margin-top:0.4rem;"></small>
                    </div>
                </div>
                <div class="footer-col">
                    <h4>Customer Support</h4>
                    <ul class="footer-links">
                        <li><a href="help.html">Help Center</a></li>
                        <li><a href="#">Chat with us</a></li>
                        <li><a href="contact.html">Contact us</a></li>
                        <li><a href="#">Delivery & Returns</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Useful Links</h4>
                    <ul class="footer-links">
                        <li><a href="#">How to buy</a></li>
                        <li><a href="#">Service Centers</a></li>
                        <li><a href="#">Corporate & Bulk</a></li>
                        <li><a href="#">Report a Product</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Sell With Us</h4>
                    <ul class="footer-links">
                        <li><a href="#">Sell on Konix</a></li>
                        <li><a href="#">Vendor Hub</a></li>
                        <li><a href="#">Service Charges</a></li>
                    </ul>
                </div>
            </div>

            <div class="container footer-bottom">
                <div class="payments">
                    <small style="color:#9aa4b2;margin-right:0.5rem">Payment methods:</small>
                    <img src="/img/visa.jpg" alt="Visa" style="height:22px;opacity:0.95;">
                    <img src="/img/mastercard.png" alt="Mastercard" style="height:22px;opacity:0.95;">
                    <img src="/img/momo.jpeg" alt="Mobile Money" style="height:22px;opacity:0.95;">
                </div>
                <div class="socials">
                    <small style="color:#9aa4b2;margin-right:0.5rem">Follow us:</small>
                    <a href="www.facebook.com"><img src="/img/facebook.png" alt="Facebook"></a>
                    <a href="www.x.com"><img src="/img/twitter.png" alt="Twitter"></a>
                    <a href="www.instagram.com"><img src="/img/instagram.png" alt="Instagram"></a>
                </div>
                <div style="width:100%;text-align: center;color:#9aa4b2; margin-top:0.6rem" >&copy; 2026 Konix Markit. All rights reserved.</div>
            </div>
        </footer>

        <script>
            (function(){
                if(localStorage.getItem('konix_cart') === null) localStorage.setItem('konix_cart', '0');
                if(localStorage.getItem('konix_sms') === null) localStorage.setItem('konix_sms', '0');
                const newsletterForm = document.getElementById('newsletterForm');
                if(newsletterForm){
                    newsletterForm.addEventListener('submit', function(e){ e.preventDefault(); const input = document.getElementById('newsletterEmail'); const msg = document.getElementById('newsletterMsg'); const email = input ? input.value.trim() : ''; const valid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email); if(!valid){ if(msg){ msg.style.display='block'; msg.textContent='Please enter a valid email.'; } return; } const key = 'konix_newsletter'; let list = []; try{ list = JSON.parse(localStorage.getItem(key) || '[]'); } catch(e){ list = []; } if(!list.includes(email)){ list.push(email); localStorage.setItem(key, JSON.stringify(list)); } if(msg){ msg.style.display='block'; msg.textContent='Thanks — you are subscribed!'; } if(input) input.value=''; setTimeout(()=>{ if(msg) msg.style.display='none'; }, 3500); });
                }
            })();
        </script>
</body>
</html>